<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<!--
<script type="text/javascript" src="../css/issStyle.js"></script>
-->

<link rel="stylesheet" type="text/css" href="./common/sprintstyle.css">

<head>
    <title>Sprint3</title>
</head>

<body>

    <div id="top">

        <h1>LABORATORIO DI INGEGNERIA DEI SISTEMI SOFTWARE<font size="5"></font>
        </h1>

    </div>

    <div class="body">

        <h2>Introduction</h2>
        Lo <b>Sprint3</b> è il naturale proseguo di quanto realizzato nello Sprint2. 
        

        <h2>Requirements</h2>

        <div class="remark">
            <a target="_blank" href="http://calendar.altervista.org/TemaFinale23.pdf">Descrizione del
                TemaFinale23</a><br>

            <bc>Goals Sprint 3</bc>
            <ol>
                <li>Identificare ed analizzare tutti i problemi relativi ai requisiti che coinvolgono la
                    <b>alarm device</b> e il <b>warning device</b>
                </li>
                <li>Integrare al sistema realizzato nello Sprint2 la <b>alarm device</b> e il <b>warning device</b>, che esprimono
                gli <u>Alarm Requirements</u></li>
                <li>Sviluppare il software ed eseguirlo su una scheda Raspberry Pi</li>
                <li>Testare il sistema</li>
            </ol>
        </div>

        <h2>Requirement analysis</h2>

        <h4>Chiarimenti del committente</h4>
        L'interazione con il committente ha permesso di chiarire alcuni aspetti del progetto:
        <ul>
            <li></li>
        </ul>

        <h4>Chiarimenti con il committente</h4>
        <ul>
            <li></li>
        </ul>

        <h3>Sistema</h3>
        Il macro-componente identificato che si va ad aggiungere al prodotto degli sprint precedenti è <b>warning ed alarm devices</b>:
        <center>
            <div class="piccola">
                <img src="./sprint3/sysSprint3.png" alt="sistema">
            </div>
        </center>
        In questo caso si andrà a lavorare con componenti fisici come:
        <ul>
            <li>un <b>Led</b></li>
            <li>un <b>Sonar</b></li>
            <li>una scheda <b>Raspberry Pi</b> che identificherà il nodo computazionale dei due devices</li>
            <li>cavetti jumper femmina-femmina per permettere i collegamenti tra il <b>Sonar</b>,<b>Led</b> e <b>Raspberry Pi</b></li>
        </ul>

        <h3>Analisi</h3>
        Dai requisiti espressi nel <a target="_blank" href="http://calendar.altervista.org/TemaFinale23.pdf">Tema
            Finale</a> e dalle analisi
        già effettuate negli Sprint0, Sprint1 e Sprint2, in questo Sprint occorre analizzare le entità:
        <ul>
            <li><b>alarm device</b>, che si occupa di notificare quando una soglia <b>DLIMT</b> viene violata, al fine di fermare il <b>Transport Trolley</b></li>
            <li><b>warning device</b>, che si occupa di mostrare lo stato del <b>Transport Trolley</b> tramite un <b>Led</b></li>
        </ul>
        Entrambi dovranno eseguire all'interno di una scheda Raspberry Pi.<br>
        Inoltre questi rappresentano gli <b>Alarm Requirements</b> ceh dovranno essere sempre soddisfatti per fare in modo che il <b>Transport trolley</b> si comporti
        in linea con i requisiti forniti dal committente.
        <br>
        <h4>alarm device</h4>
        L'<b>alarm device</b> è un componenete costituito da un <b>Sonar</b> che è in grado di misurare la distanza tra esso ed un ostacolo presente di fronte al medesimo.
        Quando il <b>Sonar</b> rileva una distanza minore di una soglia <b>DLIMT</b> il <b>Transport Trolley</b> deve essere fermato, fino a che non viene rilevata 
        una distanza maggiore sempre di <b>DLIMT</b>.<br>
        Nota importante è che il <b>Transport Trolley</b> non può essere fermato due volte consecutive entro un lasso di tempo pari a <b>MINT</b> millisecondi, bensì dovrebbe
        intercorrere un tempo <b>MINT</b> millisecondi tra uno stop e quello successivo.


        <h4>warning device</h4>
        Il <b>warning device</b> è un componenete costituito da un <b>Led</b> che comunica lo stato del <b>Transport trolley</b>.
        Il <b>Led</b> può rappresentare 3 stati diversi:
        <ul>
            <li><b>Transport Trolley in HOME</b>: il <b>Led</b> è spento</li>
            <li><b>Transport Trolley in movimento</b>: il <b>Led</b> lampeggia con un intervallo costante</li>
            <li><b>Transport Trolley è fermo</b>: il <b>Led</b> è acceso</li>
        </ul>


        <h2>Analisi del Problema</h2>
        Innanzitutto gli <b>Alarm Requirements</b> devono essere sempre soddisfatti:
        <div class="remark">
            <div class="keypoint">Gli <b>Alarm Requirements</b> devono essere sempre soddisfatti per permettere il corretto funzionamento del <b>Transport trolley</b></div>
        </div>

        Come prodotto finale di questo Sprint di dovrà ottenere del software eseguibile su una scheda rapberry Pi:
        <div class="remark">
            <div class="keypoint">I componenti <b>warning device</b> e <b>alarm device</b> devono essere in esecuzione all'interno di un Raspberry Pi</div>
        </div>

        Il <b>Transport trolley</b> dovrà fermarsi quando il <b>Sonar</b> misura una distanza minore di una soglia <b>DLIMT</b> ed risbloccarlo quando tale soglia viene
        superata per eccesso.
        <div class="remark">
            <div class="keypoint">Il <b>Transport Trolley</b> deve fermarsi quando il <b>Sonar</b> rileva una misura minore di una soglia <b>DLIMT</b></div>
        </div>
        Mentre quando il <b>Transport trolley</b> verrà rimesso in movimento, è utile che riprenda dal punto dove si era fermato evitando così di corrompere i servizi
        ai <b>Fridge Truck</b>. Altrimenti, se ogni volta che si ferma il <b>Transport Trolley</b> non si ha cura di mantenere un checkpoint, quando questo verrà rimesso
        in movimento non avrebbe memoria di cosa stava facendo prima ed il servizio che aveva laciato in sospeso non potrà essere mai soddifatto, lasciando il sistema in uno 
        stato inconsistente.
        <div class="remark">
            <div class="keypoint">Una volta che la soglia misurata dal <b>sonar</b> viene superata per 
            eccesso, dopo che il <b>Transport Trolley</b> è stato fermato per via della soglia violata, il <b>Transport Trolley</b> tornerà a svolgere il compito su 
            cui stava lavorando quando è stato fermato</div>
        </div>
        Il <b>Transport Trolley</b> una volta fermato può subire un altro stop solo dopo <b>MINT</b> millisecondi, per questo motivo si possono presentare due scenari:
        <ol>
            <li>Arriva uno stop <u>dopo</u> <b>MINT</b> millisecondi ed in quel momento il <b>Transport trolley</b> è in movimento</li>
            <li>Arriva uno stop <u>dopo</u> <b>MINT</b> millisecondi ed in quel momento il <b>Transport trolley</b> è ancora fermo dallo stop precedente</li>
            <li>Arriva uno stop <u>prima</u> <b>MINT</b> millisecondi ed in quel momento il <b>Transport trolley</b> è in movimento</li>
            <li>Arriva uno stop <u>prima</u> <b>MINT</b> millisecondi ed in quel momento il <b>Transport trolley</b> è ancora fermo dallo stop precedente</li>
        </ol>
        Lo scenario <b>1</b> è quello che non introduce alcun problema perché gli eventi succedono in momenti che soddifano tutti i requisiti.<br>
        Gli scnenari <b>3</b> e <b>4</b> presentano uno stop prima del tempo conscesso. Andrebbe valutato come si vuole agire:
        <ul>
            <li>se ignorare le richieste che arrivano prima del dovuto</li>
            <li>se prendere in considerazione una coda di eventi che sono arrivati ma non ancora considerabili perché gli <b>Alarm Requirements</b> non lo permettono</li>
        </ul>
        Valutando prima lo scenario <b>4</b>: pensando da un punto di vista di user experience si valuta valida la soluzione di ignorare le richieste di stop che arrivano prima del dovuto solo se queste sono già
        state seguite da un resume prima ancora che il tempo <b>MINT</b> sia trascorso. Questo perché non ci sarebbe bisogno di fermare il <b>Transport Trolley</b>
        se al momento corrente il <b>Sonar</b> rileva una distanza maggiore di <b>DLIMT</b>, anche se non si è fermato allo stop precedente, siccome nel momento in cui 
        il <b>Transport Trolley</b> si sarebbe dovuto fermare in realtà era già fermo.[DA RIVEDERE]


        Il led sarà controllato dal TT
        mentre il sonar comunica al TT


        il sonar manda un evento, evento perché rileva la distanza violata e lo notifica a chi è interessato, in questo caso il tt
        
        

        <h3>Interazioni</h3>
        <table id="myTable">
            <thead>
                <tr>
                    <th>Messaggio</th>
                    <th>Mittente</th>
                    <th>Destinatario</th>
                    <th>Semantica messaggio</th>
                    <th>Descrizione</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>storerequest</td>
                    <td>ServiceAccessGUI</td>
                    <td>ColdStorageService</td>
                    <td>Request</td>
                    <td>Semantica <u>Request</u> perchè il conducente deve sapere immediatamente se il suo <b>ticket</b> è stato accettato o meno. 
                        Contiene la quantità del peso <b>FW</b> che si vuole scaricare.</td>
                </tr>
                <tr>
                    <td>replystorerequest</td>
                    <td>ColdStorageService</td>
                    <td>ServiceAccessGUI</td>
                    <td>Reply</td>
                    <td>Semantica <u>Reply</u></td>
                </tr>

                <tr>
                    <td>insertticket</td>
                    <td>ServiceAccessGUI</td>
                    <td>ColdStorageService</td>
                    <td>Request</td>
                    <td></td>
                </tr>
                <tr>
                    <td>replyinsertticket</td>
                    <td>ColdStorageService</td>
                    <td>ServiceAccessGUI</td>
                    <td>Reply</td>
                    <td></td>
                </tr>

                <tr>
                    <td>chargetaken</td>
                    <td>ColdStorageService</td>
                    <td>ServiceAccessGUI</td>
                    <td>Dispatch</td>
                    <td></td>
                </tr>

                <tr>
                    <td>coldroomdata</td>
                    <td>ColdStorageService</td>
                    <td>ServiceAccessGUI</td>
                    <td>Dispatch</td>
                    <td></td>
                </tr>
            </tbody>
        </table>

        <h3>Architettura logica</h3>
        <div class="remark">
            Codice QAK per la modellazione del sistema: <a
                href="./sprint2.coldstorageservice/src/ColdStorageService.qak"
                target="_blank">ColdStorageService.qak</a>
        </div>

        Il sistema da noi modellato, presenta la seguente architettura logica:
        <center>
            <div class="piccola">
                <img src="./sprint2/coldstorageservice_sprint2arch.png" alt="architettura logica">
            </div>
        </center>

        <h2>Test plans</h2>
        <table id="myTable1">
            <thead>
                <tr>
                    <th>Test</th>
                    <th>Entità coinvolte</th>
                    <th>Scenario</th>
                    <th>Comportamento atteso</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
            </tbody>
        </table>

        <h2>Project</h2>
        
        <h2>Conclusioni</h2>
        
        <div class="remark">
            Gli output dello sprint2 sono:<br>
            <ul>
                <li>ServiceAccessGUI</li>
                <li>Versione aggiornata ColdStorageService</li>
                <li>MockTransportTrolley</li>
            </ul>
        </div>

        <h4>Goals Sprint 3</h4>
        Si possono definire in seguito i goal relativi allo Sprint3:<br>
        <ol>
            <li>Testare il sistema</li>
        </ol>

        <br /><br />

        <div style="background-color:rgba(86, 56, 253, 0.9); width:60%; text-align:left;color:white">
            By <br>Tassinari Gabriele, email: gabriele.tassinari2@studio.unibo.it<br>
            Baraldi Leonardo, email: leonardo.baraldi@studio.unibo.it<br>
            Koss Krystian, email: krystian.koss@studio.unibo.it<br>
            <div class="foto">
                <img src="./common/gabriele.jpeg" alt="mbot" width="15%" height="15%">
                <img src="./common/Baraldi.jpeg" alt="mbot" width="15%" height="15%">
                <img src="./common/kriss.jpeg" alt="mbot" width="15%" height="15%">
            </div>
            <br>
            GIT repo: https://github.com/4utotune/ColdStorageService/ <br>
        </div>
</body>

</html>